cxx = clang++
cppflags = -O3 -ffast-math --std=c++17

!compile = |> $(cxx) $(cppflags) -c %f -o %o |>
!link = |> $(cxx) $(cppflags) %f -o %o |>

# The beargen program generates the bearoff database.
#
beargen_src = beargen.cpp bearoff.cpp move.cpp
: foreach $(beargen_src)  |> !compile |> %B.o {beargen-objs}
: {beargen-objs} |> !link |> beargen.exe
